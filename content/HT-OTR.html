

<style>
.page-icon {
		width:150px;
		height:150px;
		display:inline-block;
		float:right;
		clear:right;
		background:url("/images/im-selected.png");
}
div.sshot-right, div.sshot-wide {
	border: 2px solid #DDD;
	padding: .25em;
}
.sshot-right {
	width:20em;
	float:right;
	clear:right;
}
.sshot-wide {
	width:80%;
}
.sshot-sm, .sshot-wd {
	width:100%;
}
</style>
	   <div class="page-icon">&nbsp;</div>
	   
<?php

$pageid = $_GET['page'];
$os = $_GET['os'];
if(!$os){$os="win";}

if($os=="win"){
	echo "<style>.HideOSX {display:none;}</style>";
	echo "<a href=\"?page=$pageid&os=osx\"><div class=\"osSelect\">Select Your OS: <br /><img src=\"/images/os_button_win.png\" /></div></a>\n";
}
else {
	echo "<style>.HideWin {display:none;}</style>";
	echo "<a href=\"?page=$pageid&os=win\"><div class=\"osSelect\">Select Your OS: <br /><img src=\"/images/os_button_osx.png\" /></div></a>\n";
}
?>
       <h1>Instant Message (IM) Encryption using Off-The-Record Messaging (OTR)</h1>
          <h3><i>A guide to encrypting chat messages</i></h3>
          <p><strong>Purpose:</strong> This guide attempts to explain how to install and use Off-The-Record (OTR) messaging and a chat program to send encrypted messages over most popular instant messaging (IM) services including Google Talk, MSN, AIM, and Yahoo.</p>

          <p><strong>Software:</strong> The following software is used in this guide. For best security, always download the files from the original source and verify the checksum.</p>

<span class="HideWin">		  
		  <h3>Windows</h3>
          <div class="list-group">
            <a target="_blank" href="http://otr.cypherpunks.ca/index.php" class="list-group-item">
              <h3 class="list-group-item-heading">Off-the-Record Messaging (OTR)</h3>
              <p class="list-group-item-text">open-source library that does the behind-the-scenes work of encrypting and decrypting messages.<br /><em>http://otr.cypherpunks.ca/index.php</em></p>
            </a>
            <a target="_blank" href="https://www.pidgin.im/download/windows/" class="list-group-item">
              <h3 class="list-group-item-heading">Pidgin</h3>
              <p class="list-group-item-text">open-source Instant Messaging (IM) program that can support OTR using a plug-in.<br /><em>https://www.pidgin.im/download/windows/</em></p>
            </a>
		  </div>
</span>

<span class="HideOSX">		  
		  <h3>OS X</h3>
		  <div class="list-group">
            <a target="_blank" href="https://adium.im/" class="list-group-item">
              <h3 class="list-group-item-heading">Adium</h3>
              <p class="list-group-item-text">open-source Instant Messaging (IM) program that already includes support for OTR.<br /><em>https://adium.im/</em></p>
            </a>
          </div>
</span>

        <h2>Nutshell</h2>
			<p>First, we will install the software.<span class="HideWin"> For Windows users that means we will install OTR and Pidgin.</span><span class="HideOSX"> For OS X users, we will just need Adium.</span></p>
			<p>Second, we will set up the software to use your existing IM account.</p>
			<p>Third, we will test the software to make sure it is configured correctly.</p>
			<p>That's it, you are now able to chat in private!</p>


        <h2>Part I: Install Software</h2>
<span class="HideOSX">
          <h3>OS X</h3>
          <div class="sshot-right"><a href="/content/screenshots/HT-OTR-AdiumInstall.jpg" data-lightbox="HT-OTR-AdiumInstall" title="Install Adium (OS X)"><img class="sshot-sm" src="/content/screenshots/HT-OTR-AdiumInstall.jpg"/></a></div>
          <ol>
            <li>Obtain <strong>Adium</strong> from its website, https://adium.im/</li>
			<li>Install the software by double-clicking <strong>Adium_1.5.7.dmg</strong>. You should see a window similar to the one on the right. Drag the <strong>Adium</strong> icon over the <strong>Applications</strong> folder icon and drop it there.</li>
			<li><strong>Adium</strong> is now installed in your <strong>Applications</strong> folder. Please proceed to Part II: Configure Software</li>
          </ol>
</span>
<span class="HideWin">          
          <h3>Windows</h3>
          <ol>
          	<li>Obtain <strong>Pidgin</strong> from its website https://pidgin.im/</li>
			<li>Install the software by double-clicking <strong>pidgin-2.10.7.exe</strong> (or <strong>pdigin-2.10.7-offline.exe</strong>). Select a language and press OK. The default options are okay. You can click <strong>Next &gt;</strong> until the installation completes. </li>
			<li>Obtain <strong>OTR Plug-in for Pidgin</strong> from its website, <a target="_blank" href="https://otr.cypherpunks.ca/index.php">https://otr.cypherpunks.ca/index.php</a>. Please note that on this website, the download you want looks like:<br />
			    <strong>Primary download:</strong> <a href="#">Win32 installer for pidgin-otr 4.0.0-1</a> (<a href="#">sig</a>) [<a href="#">other downloads</a>]</li>
			<li>Install <strong>OTR Plug-in for Pidgin</strong> by double-clicking <strong>pidgin-otr-4.0.0-1.exe</strong>. Just click <strong>Next &gt;</strong> until the installation completes, there are no options to change here.</li>
          </ol>
</span>          
          
        <h2>Part II: Configure Software</h2>
<span class="HideOSX">
          <h3>OS X</h3>
          <div class="sshot-right"><a href="/content/screenshots/HT-OTR-AdiumAcct.jpg" data-lightbox="HT-OTR-AdiumAcct" title="Setup Your IM Account on Adium (OS X)"><img class="sshot-sm" src="/content/screenshots/HT-OTR-AdiumAcct.jpg"/></a></div>
          <ol>
            <li>Run <strong>Adium</strong>, located in your <strong>Applications</strong> folder</li>
		    <li>Setup your account: Click <strong>Continue</strong> on the first page. Then select the type of account you are using in the Service dropdown menu. Type in your username and password for that account, then click Continue.</li>
		    <li>Click <strong>Adium</strong> in the menu bar at the top of the screen and click <strong>Preferences</strong>. Review the following items:</li>
		    <ul><li>On the <strong>Advanced</strong> tab, click the <strong>Encryption</strong> sub-tab on the left side. Select your account in the pane on the right, then click <strong>Generate</strong>. </li>
		    <li>On the <strong>Accounts</strong> tab, you may want to deselect “Log OTR-secured chats” if you do not want to keep your encrypted chat history.</li></ul>
		    <li>Adium is now set up for encrypted messaging. Remember, the person you message must have OTR (or a program like Adium that supports it) installed in order to have an encrypted chat session.</li>
          </ol>
</span>  
<span class="HideWin">        
          <h3>Windows</h3>
          <div class="sshot-right"><a href="/content/screenshots/HT-OTR-PidginAcct.jpg" data-lightbox="HT-OTR-PidginAcct" title="Setup Your IM Account on Pidgin (Windows)"><img class="sshot-sm" src="/content/screenshots/HT-OTR-PidginAcct.jpg"/></a></div>
		  <ol>
		  	<li>Run <strong>Pidgin</strong> by clicking the Start Menu or orb, then Programs (or All Programs), then <strong>Pidgin</strong>. </li>
			<li>Pidgin should prompt you to add your account. If not, click <strong>Accounts</strong> in the menu bar, then click <strong>Manage Accounts</strong>. Then click the <strong>Add...</strong> button.</li>
			<li>Select the type of IM account you want to use under Protocol. Then type in your username and password, and press <strong>Save</strong>.</li>
			<li>Your account should now be connected and your buddy list should begin to load. Next we configure OTR for encryption.</li>
			<li>In the Pidgin Buddy List window, select the <strong>Tools</strong> menu, then click <strong>Plugins</strong>. Scroll down until you find the <strong>Off-the-Record Messaging</strong> plugin. Check the box next to the plugin, and then click <strong>Configure Plugin</strong>.</li>
			<div class="sshot-right"><a href="/content/screenshots/HT-OTR-PidginGen.jpg" data-lightbox="HT-OTR-PidginGen" title="Generate Your Key Pairs on Pidgin (Windows)"><img class="sshot-sm" src="/content/screenshots/HT-OTR-PidginGen.jpg"/></a></div>
			<li>In the Off-The-Record Messaging Config screen, select the account you want to use encryption with, and then click <strong>Generate</strong>.</li>
			<li>Choose your Default OTR Settings to control how messages are sent by default. You will need to have “Enable private messaging” selected, and I recommend also selecting “Automatically initiate private messaging” so Pidgin will encrypt your chat automatically as long as the person you are messaging has OTR installed. If you want your account to only send encrypted messages, also select “Require private messaging”. Finally, I recommend selecting “Don't log OTR conversations” if you do not want to keep a chat history of your encrypted chats. When you have finished selecting your options, click <strong>Close</strong>.</li>
			<li>Pidgin is now set up to use OTR to encrypt your messages. Remember, the person you message must also have OTR installed in order to have an encrypted chat session.</li>
		  </ol>
</span>		  
		  
		<h2>Part III: Test Software</h2>
<span class="HideOSX">
		  <h3>OS X</h3>
		  <div class="sshot-right"><a href="/content/screenshots/HT-OTR-AdiumInit.jpg" data-lightbox="HT-OTR-AdiumInit" title="Initiate an Encrypted Converation in Adium (OS X)"><img class="sshot-sm" src="/content/screenshots/HT-OTR-AdiumInit.jpg"/></a></div>
		  <ol>
		  	<li>Open <strong>Adium</strong> if it is not already open. In the <strong>Contacts</strong> window, double-click the name of a contact to start a new message.</li>
			<li>In the message window, click the open lock icon in the top left, and select Initiate Encrypted OTR Chat.</li>
			<li>If your contact is also using OTR, your computers will exchange public keys automatically.</li>
			<div class="sshot-right"><a href="/content/screenshots/HT-OTR-AdiumFinger.jpg" data-lightbox="HT-OTR-AdiumFinger" title="Verify Your Contact's Fingerprint in Adium (OS X)"><img class="sshot-sm" src="/content/screenshots/HT-OTR-AdiumFinger.jpg"/></a></div>
			<li>If this is the first time you are sending a message to that contact, the OTR Fingerprint Verification window will open, asking you to verify your contact's public key. This is asking if you trust that the person using the computer on the other end really is the person you were trying to contact. You can be more sure by asking your contact questions that only they know the answer to, or calling your contact just to confirm the keys shown. Click <strong>Accept</strong> to verify the key.</li>
			<div class="sshot-right"><a href="/content/screenshots/HT-OTR-AdiumSuccess.jpg" data-lightbox="HT-OTR-AdiumSuccess" title="You Successfully Encrypted a Conversation in Adium (OS X)"><img class="sshot-sm" src="/content/screenshots/HT-OTR-AdiumSuccess.jpg"/></a></div>
			<li>The lock icon in the top left should now be closed, and the chat window should show “Encrypted OTR chat initiated.” </li>
			<li>You are now sending and receiving encrypted instant messages.</li>
		  </ol>
</span>
<span class="HideWin">		  
		  <h3>Windows</h3>
		  <ol>
		  	<li>Open Pidgin if it is not already open. In the Buddy List window, double-click the name of a contact to start a new message.</li>
			<li>On the right side of the chat window, above the text box at the bottom, you should see “Not Private” in red text. Click that, and select “Start private conversation”. If the person you are trying to contact has an OTR-enabled chat program, then you are ready to go.</li>
 			<div class="sshot-right"><a href="/content/screenshots/HT-OTR-PidginSuccess.jpg" data-lightbox="HT-OTR-PidginSuccess" title="You Successfully Encrypted a Conversation in Pidgin (Windows)"><img class="sshot-sm" src="/content/screenshots/HT-OTR-PidginSuccess.jpg"/></a></div>
 			<li>If this is the first time you have sent an encrypted message to that person, Pidgin will show “Unverified” on the right side above the text box at the bottom. You will generally only need to do verification once per contact, but occasionally you may need to verify again. If your contact is using anything other than Pidgin with the OTR plugin, you may need to select “Manual fingerprint verification”.Please see the following link for more information on verification: <br />
				<a target="_blank" href="https://otr-help.cypherpunks.ca/4.0.0/authenticate.php?lang=en">https://otr-help.cypherpunks.ca/4.0.0/authenticate.php?lang=en</a></li>
			<li>Once you have completed the above steps, including verification, the window should show “Private” on the right side above the text box at the bottom.</li>
			<li>You're done. You should now be able to send and receive encrypted IMs. In the future, if the button on the right side above the bottom text box says “Not Private” or “Unverified”, repeat the steps above.</li>
		  </ol>
</span>		  
		  
		<h2>Part IV: Additional Notes</h2>
		<h3>A Note on Receiving Messages (Windows and OS X)</h3>
		<p>Don't be surprised if you see the verification window when someone starts a chat with you. When another person initiates an encrypted chat, you will be prompted to complete the verification mentioned above if you have not already done so for that contact. </p>

		<h3>A Note on Privacy</h3>
		<p>When you use these programs, the content of your messages is encrypted. However, the metadata is not encrypted. This means that your chat provider (Google, AOL, etc) can see that you sent a message, and who the message was sent from and to, as well as the date and time, your IP address, and some other information. If you do not use encryption, your chat provider will also be able to read the text content of your message.</p>

